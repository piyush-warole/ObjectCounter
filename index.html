<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Real-Time Object Counter</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #111;
      color: #fff;
    }
    header {
      background: #222;
      padding: 20px;
      text-align: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    }
    header h1 {
      margin: 0;
      font-size: 28px;
      color: #00ff88;
    }
    header p {
      margin: 5px 0 0;
      font-size: 16px;
      color: #ccc;
    }
    main {
      padding: 20px;
      text-align: center;
      max-width: 800px;
      margin: auto;
    }
    section {
      margin-bottom: 30px;
    }
    h2 {
      color: #00ff88;
    }
    p {
      line-height: 1.5;
      color: #ccc;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    ul li {
      background: rgba(255,255,255,0.05);
      margin: 10px 0;
      padding: 10px;
      border-radius: 5px;
    }
    button {
      padding: 15px 30px;
      font-size: 18px;
      background: #28a745;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      color: white;
      font-weight: bold;
    }
    button:hover {
      background: #218838;
    }
    #detectionSection {
      display: none;
      text-align: center;
    }
    video, canvas {
      max-width: 90%;
      border: 3px solid white;
      border-radius: 8px;
      margin-top: 15px;
    }
    #counter {
      margin: 20px 0;
      display: flex;
      justify-content: center;
      gap: 30px;
      font-size: 18px;
      flex-wrap: wrap;
    }
    .count-box {
      background: rgba(255,255,255,0.1);
      padding: 10px 15px;
      border-radius: 5px;
      min-width: 80px;
    }
    footer {
      background: #222;
      color: #ccc;
      padding: 15px;
      text-align: center;
      margin-top: 40px;
      font-size: 14px;
      border-top: 1px solid #333;
    }
    footer img {
      max-height: 40px;
      display: block;
      margin: 10px auto;
    }
  </style>
</head>
<body>

<header>
  <h1>Real-Time Object Counter</h1>
  <p>Real-time object detection and counting using AI and computer vision</p>
</header>

<main id="landingPage">
  <section>
   
    <p>This AI-powered system detects and counts multiple objects in real-time via your webcam. It can identify people, cars, bikes, buses, and trucks using TensorFlow.js and the COCO-SSD deep learning model, directly in your browser without installation.</p>
  </section>

  <section>
    <h2>Features</h2>
    <ul>
      <li>‚ö° Real-time AI detection</li>
      <li>üßç Object classification (person, car, bike, etc.)</li>
      <li>üìä Live count display</li>
     
    </ul>
  </section>

  <section>
    <h2>Usage Instructions</h2>
    <ul>
      <li>üí° Good lighting improves accuracy</li>
      <li>üì∑ Keep your camera steady</li>
      <li>üåç Works on Chrome, Edge, or Firefox (desktop/mobile)</li>
    </ul>
  </section>

  <button id="startBtn">üöÄ Start Detection</button>
</main>

<div id="detectionSection">
  <div id="counter">
    <div class="count-box">üßç People: <span id="personCount">0</span></div>
    <div class="count-box">üöó Cars: <span id="carCount">0</span></div>
    <div class="count-box">üõµ Bikes: <span id="bikeCount">0</span></div>
    <div class="count-box">üöå Buses: <span id="busCount">0</span></div>
    <div class="count-box">üöö Trucks: <span id="truckCount">0</span></div>
    <div class="count-box">üì¶ Misc Objects: <span id="miscCount">0</span></div>
      <div class="count-box">üö≤ Bicycles: <span id="bicycleCount">0</span></div>
    <div class="count-box">üêï Dogs: <span id="dogCount">0</span></div>
    <div class="count-box">üêà Cats: <span id="catCount">0</span></div>
  </div>
  <video id="video" autoplay playsinline></video>
  <canvas id="canvas"></canvas>
</div>


<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.21.0"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>

<script>
  let model;

  document.getElementById("startBtn").addEventListener("click", async () => {
    document.getElementById("landingPage").style.display = "none";
    document.getElementById("detectionSection").style.display = "block";

    try {
      model = await cocoSsd.load();
      const stream = await navigator.mediaDevices.getUserMedia({ video: true });
      const video = document.getElementById("video");
      const canvas = document.getElementById("canvas");
      const ctx = canvas.getContext("2d");

      video.srcObject = stream;

      video.onloadeddata = () => {
        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;
        detectFrame();
      };

      async function detectFrame() {
        const predictions = await model.detect(video);
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

        let counts = { person: 0, car: 0, motorcycle: 0, bus: 0, truck: 0 };

        predictions.forEach(pred => {
          if (pred.score > 0.6) {
            ctx.strokeStyle = "#00ff88";
            ctx.lineWidth = 2;
            ctx.strokeRect(...pred.bbox);

            ctx.font = "16px Arial";
            ctx.fillStyle = "rgba(0,0,0,0.5)";
            ctx.fillRect(pred.bbox[0], pred.bbox[1] - 20, ctx.measureText(pred.class).width + 10, 20);
            ctx.fillStyle = "#00ff88";
            ctx.fillText(pred.class, pred.bbox[0] + 5, pred.bbox[1] - 5);

            if (counts.hasOwnProperty(pred.class)) {
              counts[pred.class]++;
            }
          }
        });

        document.getElementById("personCount").innerText = counts.person;
        document.getElementById("carCount").innerText = counts.car;
        document.getElementById("bikeCount").innerText = counts.motorcycle;
        document.getElementById("busCount").innerText = counts.bus;
        document.getElementById("truckCount").innerText = counts.truck;

        requestAnimationFrame(detectFrame);
      }

    } catch (err) {
      alert("Error accessing webcam: " + err.message);
    }
  });
</script>

</body>
</html>



